

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Combinations &mdash; AntimonyCombinations 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="HypothesisExtension" href="hypothesis_extension.html" />
    <link rel="prev" title="Welcome to AntimonyCombinations’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> AntimonyCombinations
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Combinations</a></li>
<li class="toctree-l1"><a class="reference internal" href="hypothesis_extension.html">HypothesisExtension</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">AntimonyCombinations</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Combinations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/combinations.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="combinations">
<h1>Combinations<a class="headerlink" href="#combinations" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="antimony_combinations.Combinations">
<em class="property">class </em><code class="sig-prename descclassname">antimony_combinations.</code><code class="sig-name descname">Combinations</code><span class="sig-paren">(</span><em class="sig-param">mutually_exclusive_reactions: List[Tuple[AnyStr]] = []</em>, <em class="sig-param">directory: Optional[str] = None</em><span class="sig-paren">)</span><a class="headerlink" href="#antimony_combinations.Combinations" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds combinations of SBML model using antimony</p>
<p>Create every combination of core hypothesis and extension hypotheses and creates
SBML models using antimony from the tellurium package.</p>
<p><a class="reference internal" href="#antimony_combinations.Combinations" title="antimony_combinations.Combinations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Combinations</span></code></a> is designed to be subclassed. The necessary user input
is given by overriding core functions and providing hypothesis extensions.</p>
<p>The following methods must be implemented (see below for an example):</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#antimony_combinations.Combinations.core__reactions" title="antimony_combinations.Combinations.core__reactions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">core__reactions()</span></code></a></p></li>
<li><p><a class="reference internal" href="#antimony_combinations.Combinations.core__parameters" title="antimony_combinations.Combinations.core__parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">core__parameters()</span></code></a></p></li>
<li><p><a class="reference internal" href="#antimony_combinations.Combinations.core__variables" title="antimony_combinations.Combinations.core__variables"><code class="xref py py-meth docutils literal notranslate"><span class="pre">core__variables()</span></code></a></p></li>
</ul>
</div></blockquote>
<p>However the following methods are optional:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#antimony_combinations.Combinations.core__functions" title="antimony_combinations.Combinations.core__functions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">core__functions()</span></code></a></p></li>
<li><p><a class="reference internal" href="#antimony_combinations.Combinations.core__events" title="antimony_combinations.Combinations.core__events"><code class="xref py py-meth docutils literal notranslate"><span class="pre">core__events()</span></code></a></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">core__units()</span></code></p></li>
</ul>
</div></blockquote>
<p>Each of these methods should return a
<a class="reference external" href="https://tellurium.readthedocs.io/en/latest/antimony.html">valid antimony string</a>,
since these strings are used to build up a full antimony model.</p>
<p>Extension hypotheses are added by adding methods to your subclass that
begin with <cite>extension_hypothesis__</cite>. Any method that begins with <cite>extension_hypothesis__</cite>
will be picked up and used to combinatorially build sbml models.</p>
<p>Any <cite>extension_hypothesis__</cite> method should return an instance of the
<a class="reference internal" href="hypothesis_extension.html#antimony_combinations.HypothesisExtension" title="antimony_combinations.HypothesisExtension"><code class="xref py py-class docutils literal notranslate"><span class="pre">HypothesisExtension</span></code></a> class, which is merely a container for
some needed information.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Notice the double underscore after <cite>extension_hypothesis</cite></p>
</div>
<p>Extension Hypotheses can operate in either <cite>additive</cite> or <cite>replace</cite> mode,
depending on how the models should be combined. <cite>additive</cite> is simpler. An extension
hypothesis is additive when your reaction doesn’t override another, or make
another reaction superflous. Examples of such instances might be
when adding a mass action reaction to a preexisting set of mass action
reactions.</p>
<p><cite>replace</cite> mode on the other hand should be used when your
reaction should be used <em>instead</em> of another reaction.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyCombModel</span><span class="p">(</span><span class="n">Combinations</span><span class="p">):</span>

    <span class="c1"># no __init__ is necessary as we use the __init__ from parent class</span>

    <span class="k">def</span> <span class="nf">core__functions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;&#39; &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">core__variables</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">        compartment Cell;</span>
<span class="s1">        var A in Cell;</span>
<span class="s1">        var pA in Cell;</span>
<span class="s1">        var B in Cell;</span>
<span class="s1">        var pB in Cell;</span>
<span class="s1">        var C in Cell;</span>
<span class="s1">        var pC in Cell;</span>

<span class="s1">        const S in Cell</span>
<span class="s1">        &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">core__reactions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">        R1f: A -&gt; pA; k1f*A*S;</span>
<span class="s1">        R2f: B -&gt; pB; k2f*B*A;</span>
<span class="s1">        R3f: C -&gt; pC; k3f*C*B;</span>
<span class="s1">        &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">core__parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">        k1f    = 0.1;</span>
<span class="s1">        k2f    = 0.1;</span>
<span class="s1">        k3f    = 0.1;</span>

<span class="s1">        k2b    = 0.1;</span>
<span class="s1">        k3b    = 0.1;</span>
<span class="s1">        VmaxB  = 0.1;</span>
<span class="s1">        kmB    = 0.1;</span>
<span class="s1">        VmaxA  = 0.1;</span>
<span class="s1">        kmA    = 0.1;</span>
<span class="s1">        k4     = 0.1;</span>

<span class="s1">        S = 1;</span>
<span class="s1">        A = 10;</span>
<span class="s1">        pA = 0;</span>
<span class="s1">        B = 10;</span>
<span class="s1">        pB = 0;</span>
<span class="s1">        C = 10;</span>
<span class="s1">        pC = 0;</span>
<span class="s1">        Cell = 1;</span>
<span class="s1">        &#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">core__units</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">None</span>  <span class="c1"># Not needed for now</span>

    <span class="k">def</span> <span class="nf">core__events</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">None</span>  <span class="c1"># No events needed</span>

    <span class="k">def</span> <span class="nf">extension_hypothesis__additive1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">HypothesisExtension</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s1">&#39;AdditiveReaction1&#39;</span><span class="p">,</span>
            <span class="n">reaction</span><span class="o">=</span><span class="s1">&#39;pB -&gt; B&#39;</span><span class="p">,</span>
            <span class="n">rate_law</span><span class="o">=</span><span class="s1">&#39;k2b * pB&#39;</span><span class="p">,</span>
            <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;additive&#39;</span><span class="p">,</span>
            <span class="n">to_replace</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>  <span class="c1"># not needed for additive mode</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">extension_hypothesis__additive2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">HypothesisExtension</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s1">&#39;AdditiveReaction2&#39;</span><span class="p">,</span>
            <span class="n">reaction</span><span class="o">=</span><span class="s1">&#39;pC -&gt; C&#39;</span><span class="p">,</span>
            <span class="n">rate_law</span><span class="o">=</span><span class="s1">&#39;k3b * C&#39;</span><span class="p">,</span>
            <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;additive&#39;</span><span class="p">,</span>
            <span class="n">to_replace</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>  <span class="c1"># not needed for additive mode</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">extension_hypothesis__replace_reaction</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">HypothesisExtension</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s1">&#39;ReplaceReaction&#39;</span><span class="p">,</span>
            <span class="n">reaction</span><span class="o">=</span><span class="s1">&#39;pB -&gt; B&#39;</span><span class="p">,</span>
            <span class="n">rate_law</span><span class="o">=</span><span class="s1">&#39;VmaxB * pB / (kmB + pB)&#39;</span><span class="p">,</span>
            <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;replace&#39;</span><span class="p">,</span>
            <span class="n">to_replace</span><span class="o">=</span><span class="s1">&#39;R2f&#39;</span><span class="p">,</span>  <span class="c1"># name of reaction we want to replace</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">extension_hypothesis__feedback1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">HypothesisExtension</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Feedback1&#39;</span><span class="p">,</span>
            <span class="n">reaction</span><span class="o">=</span><span class="s1">&#39;pA -&gt; A&#39;</span><span class="p">,</span>
            <span class="n">rate_law</span><span class="o">=</span><span class="s1">&#39;VmaxA * pA / (kmA + pA)&#39;</span><span class="p">,</span>
            <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;additive&#39;</span><span class="p">,</span>
            <span class="n">to_replace</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>  <span class="c1"># name of reaction we want to replace</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">extension_hypothesis__feedback2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">HypothesisExtension</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Feedback2&#39;</span><span class="p">,</span>
            <span class="n">reaction</span><span class="o">=</span><span class="s1">&#39;pA -&gt; A&#39;</span><span class="p">,</span>
            <span class="n">rate_law</span><span class="o">=</span><span class="s1">&#39;k4 * pA&#39;</span><span class="p">,</span>  <span class="c1"># mass action variant</span>
            <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;additive&#39;</span><span class="p">,</span>
            <span class="n">to_replace</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>  <span class="c1"># name of reaction we want to replace</span>
        <span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Now that we have built a Combinations subclass we
can use it as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">project_root</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">MyCombModel</span><span class="p">(</span><span class="n">mutually_exclusive_reactions</span><span class="o">=</span><span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="p">(</span><span class="s1">&#39;Feedback1&#39;</span><span class="p">,</span> <span class="s1">&#39;Feedback2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">],</span> <span class="n">directory</span><span class="o">=</span><span class="n">project_root</span>       <span class="c1"># optionally specify project root</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
</pre></div>
</div>
<p>MyCombModel behaves like an iterator, though it doesn’t
store all model topologies on the outset but builds models
of the fly as the <cite>topology</cite> attribute is incremented. Topology
always starts on model 0, the core model that
doesn’t have additional hypothesis extensions.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="go">MyCombModel(topology=0)</span>
</pre></div>
</div>
<p>The complete set of model topologies is enumerated by the
<cite>topology</cite> attribute. The <cite>__len__</cite> method is set to the
size of this set, accounting for mutually exclusive
topologies, which is a mechanism for reducing the topology space.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
<span class="go">24</span>
</pre></div>
</div>
<p>You can pick out any of these topologies using the
selection operator</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="go">MyCombModel(topology=4)</span>
</pre></div>
</div>
<p>To see which topologies correspond to which hypothesis
extensions we can use <code class="xref py py-meth docutils literal notranslate"><span class="pre">antimony_combinations.get_topologies()</span></code>,
which returns a pandas.DataFrame.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">get_topolgies</span><span class="p">()</span>
<span class="go">                                                      Topology</span>
<span class="go">ModelID</span>
<span class="go">0                                                     Null</span>
<span class="go">1                                                additive1</span>
<span class="go">2                                                additive2</span>
<span class="go">3                                                feedback1</span>
<span class="go">4                                                feedback2</span>
<span class="go">5                                         replace_reaction</span>
<span class="go">6                                     additive1__additive2</span>
<span class="go">7                                     additive1__feedback1</span>
<span class="go">8                                     additive1__feedback2</span>
<span class="go">9                              additive1__replace_reaction</span>
<span class="go">10                                    additive2__feedback1</span>
<span class="go">11                                    additive2__feedback2</span>
<span class="go">12                             additive2__replace_reaction</span>
<span class="go">13                             feedback1__replace_reaction</span>
<span class="go">14                             feedback2__replace_reaction</span>
<span class="go">15                         additive1__additive2__feedback1</span>
<span class="go">16                         additive1__additive2__feedback2</span>
<span class="go">17                  additive1__additive2__replace_reaction</span>
<span class="go">18                  additive1__feedback1__replace_reaction</span>
<span class="go">19                  additive1__feedback2__replace_reaction</span>
<span class="go">20                  additive2__feedback1__replace_reaction</span>
<span class="go">21                  additive2__feedback2__replace_reaction</span>
<span class="go">22       additive1__additive2__feedback1__replace_reaction</span>
<span class="go">23       additive1__additive2__feedback2__replace_reaction</span>
</pre></div>
</div>
<p>You can extract all topologies into a list using the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">antimony_combinations.Combinations.to_list()</span></code>
method.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">to_list</span><span class="p">()[:</span><span class="mi">4</span><span class="p">])</span>
<span class="go">[MyCombModel(topology=0),</span>
<span class="go"> MyCombModel(topology=1),</span>
<span class="go"> MyCombModel(topology=2),</span>
<span class="go"> MyCombModel(topology=3)]</span>
</pre></div>
</div>
<p>You can iterate over the set of topologies</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">c</span><span class="p">[:</span><span class="mi">3</span><span class="p">]:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span> <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="go">MyCombModel(topology=0)</span>
<span class="go">MyCombModel(topology=1)</span>
<span class="go">MyCombModel(topology=2)</span>
</pre></div>
</div>
<p>Or use the items method, which is similar to <cite>dict.items()</cite>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">items</span><span class="p">()[:</span><span class="mi">3</span><span class="p">]:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span> <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span>
<span class="go">0 MyCombModel(topology=0)</span>
<span class="go">1 MyCombModel(topology=1)</span>
<span class="go">2 MyCombModel(topology=2)</span>
</pre></div>
</div>
<p>Selecting a single model, we can create an antimony string</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">first_model</span> <span class="o">=</span> <span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">first_model</span><span class="o">.</span><span class="n">to_antimony</span><span class="p">())</span>
<span class="go">model MyCombModelTopology0</span>
<span class="go">    compartment Cell;</span>
<span class="go">    var A in Cell;</span>
<span class="go">    var pA in Cell;</span>
<span class="go">    var B in Cell;</span>
<span class="go">    var pB in Cell;</span>
<span class="go">    var C in Cell;</span>
<span class="go">    var pC in Cell;</span>
<span class="go">    const S in Cell</span>
<span class="go">    R1f: A -&gt; pA; k1f*A*S;</span>
<span class="go">    R2f: B -&gt; pB; k2f*B*A;</span>
<span class="go">    R3f: C -&gt; pC; k3f*C*B;</span>
<span class="go">    k1f = 0.1;</span>
<span class="go">    k2f = 0.1;</span>
<span class="go">    k3f = 0.1;</span>
<span class="go">    S = 1;</span>
<span class="go">    A = 10;</span>
<span class="go">    pA = 0;</span>
<span class="go">    B = 10;</span>
<span class="go">    pB = 0;</span>
<span class="go">    C = 10;</span>
<span class="go">    pC = 0;</span>
<span class="go">    Cell = 1;</span>
<span class="go">end</span>
</pre></div>
</div>
<p>or a tellurium model</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rr</span> <span class="o">=</span> <span class="n">first_model</span><span class="o">.</span><span class="n">to_roadrunner</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">rr</span><span class="p">)</span>
<span class="go">&lt;roadrunner.RoadRunner() {</span>
<span class="go">&#39;this&#39; : 0x555a52c8cb90</span>
<span class="go">&#39;modelLoaded&#39; : true</span>
<span class="go">&#39;modelName&#39; :</span>
<span class="go">&#39;libSBMLVersion&#39; : LibSBML Version: 5.17.2</span>
<span class="go">&#39;jacobianStepSize&#39; : 1e-05</span>
<span class="go">&#39;conservedMoietyAnalysis&#39; : false</span>
<span class="go">&#39;simulateOptions&#39; :</span>
<span class="go">&lt; roadrunner.SimulateOptions()</span>
<span class="go">{</span>
<span class="go">&#39;this&#39; : 0x555a5309cd00,</span>
<span class="go">&#39;reset&#39; : 0,</span>
<span class="go">&#39;structuredResult&#39; : 0,</span>
<span class="go">&#39;copyResult&#39; : 1,</span>
<span class="go">&#39;steps&#39; : 50,</span>
<span class="go">&#39;start&#39; : 0,</span>
<span class="go">&#39;duration&#39; : 5</span>
<span class="go">}&gt;,</span>
<span class="go">&#39;integrator&#39; :</span>
<span class="go">&lt; roadrunner.Integrator() &gt;</span>
<span class="go">  name: cvode</span>
<span class="go">  settings:</span>
<span class="go">      relative_tolerance: 0.000001</span>
<span class="go">      absolute_tolerance: 0.000000000001</span>
<span class="go">                   stiff: true</span>
<span class="go">       maximum_bdf_order: 5</span>
<span class="go">     maximum_adams_order: 12</span>
<span class="go">       maximum_num_steps: 20000</span>
<span class="go">       maximum_time_step: 0</span>
<span class="go">       minimum_time_step: 0</span>
<span class="go">       initial_time_step: 0</span>
<span class="go">          multiple_steps: false</span>
<span class="go">      variable_step_size: false</span>
<span class="go">}&gt;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">rr</span><span class="o">.</span><span class="n">simulate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">))</span>
<span class="go">    time,     [A],     [pA],       [B],    [pB],     [C],    [pC]</span>
<span class="go"> [[    0,      10,        0,        10,       0,      10,       0],</span>
<span class="go">  [    1, 9.04837, 0.951626,   3.86113, 6.13887, 5.27257, 4.72743],</span>
<span class="go">  [    2, 8.18731,  1.81269,   1.63214, 8.36786, 4.07751, 5.92249],</span>
<span class="go">  [    3, 7.40818,  2.59182,  0.748842, 9.25116, 3.64313, 6.35687],</span>
<span class="go">  [    4,  6.7032,   3.2968,  0.370018, 9.62998, 3.45361, 6.54639],</span>
<span class="go">  [    5, 6.06531,  3.93469,  0.195519, 9.80448,  3.3609,  6.6391],</span>
<span class="go">  [    6, 5.48812,  4.51188,  0.109779, 9.89022, 3.31158, 6.68842],</span>
<span class="go">  [    7, 4.96585,  5.03415, 0.0651185, 9.93488,  3.2835,  6.7165],</span>
<span class="go">  [    8, 4.49329,  5.50671, 0.0405951,  9.9594, 3.26657, 6.73343],</span>
<span class="go">  [    9,  4.0657,   5.9343, 0.0264712, 9.97353, 3.25584, 6.74416],</span>
<span class="go">  [   10, 3.67879,  6.32121, 0.0179781, 9.98202, 3.24872, 6.75128]]</span>
</pre></div>
</div>
<p>Or an interface to copasi, via <a class="reference external" href="https://pycotools3.readthedocs.io/en/latest/">pycotools3</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">to_copasi</span><span class="p">()</span>
<span class="go">Model(name=NoName, time_unit=s, volume_unit=l, quantity_unit=mol)</span>
</pre></div>
</div>
<p>Which could be used to configure parameter estimations. Currently,
support for parameter estimation configuration has in COPASI not been included
but this is planned for the near future.</p>
<dl class="method">
<dt id="antimony_combinations.Combinations.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">mutually_exclusive_reactions: List[Tuple[AnyStr]] = []</em>, <em class="sig-param">directory: Optional[str] = None</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#antimony_combinations.Combinations.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>mutually_exclusive_reactions:</dt><dd><p>An arbitrary length list of tuples of pairs that are names
of reactions that should never occur together in the same model.
Defaults to an empty list.</p>
</dd>
<dt>directory:</dt><dd><p>Root directory for analysis. The default is the directory
containing the script being run or the current working directory
of the interpreter.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="antimony_combinations.Combinations.copasi_file">
<em class="property">property </em><code class="sig-name descname">copasi_file</code><a class="headerlink" href="#antimony_combinations.Combinations.copasi_file" title="Permalink to this definition">¶</a></dt>
<dd><p>A full path to copasi file for current topology
Returns:</p>
</dd></dl>

<dl class="method">
<dt id="antimony_combinations.Combinations.core__events">
<code class="sig-name descname">core__events</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#antimony_combinations.Combinations.core__events" title="Permalink to this definition">¶</a></dt>
<dd><p>Antimony events string. Do not use directly but override in subclass. Optional method.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">core__events</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    event1 at t=1.25 == 2</span>
<span class="s1">    &#39;&#39;&#39;</span>
</pre></div>
</td></tr></table></div>
<p>Returns: str</p>
</dd></dl>

<dl class="method">
<dt id="antimony_combinations.Combinations.core__functions">
<code class="sig-name descname">core__functions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#antimony_combinations.Combinations.core__functions" title="Permalink to this definition">¶</a></dt>
<dd><p>An optional set of functions for use in rate laws. Do not use directly
but instead override in subclass.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">core__functions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    function MichaelisMenten(vmax, km, s)</span>
<span class="s1">        vmax * s / (km + s)</span>
<span class="s1">    end</span>
<span class="s1">    &#39;&#39;&#39;</span>
</pre></div>
</td></tr></table></div>
<p>Returns: str</p>
</dd></dl>

<dl class="method">
<dt id="antimony_combinations.Combinations.core__parameters">
<code class="sig-name descname">core__parameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#antimony_combinations.Combinations.core__parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameter list. Do not use directly but over ride in subclass. This method
is required.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">core__parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    A = 10;</span>
<span class="s1">    B = 20;</span>

<span class="s1">    k1 = 0.1;</span>
<span class="s1">    hypothesis_extension_parameter1 = 10;   // will be pruned if not in present model.</span>

<span class="s1">    random_global_parameter = 50;</span>
<span class="s1">    &#39;&#39;&#39;</span>
</pre></div>
</td></tr></table></div>
<p>Returns: str</p>
</dd></dl>

<dl class="method">
<dt id="antimony_combinations.Combinations.core__reactions">
<code class="sig-name descname">core__reactions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#antimony_combinations.Combinations.core__reactions" title="Permalink to this definition">¶</a></dt>
<dd><p>List of core reactions; reactions to be shared among all models. Do not
use directly as this method is designed to be subclassed. This method
is required.</p>
<p>Examples:</p>
<p>Returns: str</p>
</dd></dl>

<dl class="method">
<dt id="antimony_combinations.Combinations.core__variables">
<code class="sig-name descname">core__variables</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#antimony_combinations.Combinations.core__variables" title="Permalink to this definition">¶</a></dt>
<dd><p>List your variables whilst specifying their compartment. Method not
to be used directly but overriden in subclass. This is a required
method.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">core__variables</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    compartment Cell = 1;</span>
<span class="s1">    var A in Cell;</span>
<span class="s1">    var B in Cell;</span>
<span class="s1">    const S in Cell;</span>
<span class="s1">    &#39;&#39;&#39;</span>
</pre></div>
</td></tr></table></div>
<p>Returns: str</p>
</dd></dl>

<dl class="method">
<dt id="antimony_combinations.Combinations.get_hypotheses">
<code class="sig-name descname">get_hypotheses</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; List[str]<a class="headerlink" href="#antimony_combinations.Combinations.get_hypotheses" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of hypotheses and their index
Returns:</p>
</dd></dl>

<dl class="method">
<dt id="antimony_combinations.Combinations.get_parameters_as_list">
<code class="sig-name descname">get_parameters_as_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; List[str]<a class="headerlink" href="#antimony_combinations.Combinations.get_parameters_as_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:</p>
</dd></dl>

<dl class="method">
<dt id="antimony_combinations.Combinations.get_reaction_names">
<code class="sig-name descname">get_reaction_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; List[str]<a class="headerlink" href="#antimony_combinations.Combinations.get_reaction_names" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Returns:</dt><dd><p>List of reaction names in current model</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="antimony_combinations.Combinations.get_topologies">
<code class="sig-name descname">get_topologies</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#antimony_combinations.Combinations.get_topologies" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the topology indexes and the hypotheses
contained within them. This is your map between
topology numbers and model hypotheses.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>A pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="antimony_combinations.Combinations.items">
<code class="sig-name descname">items</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; List<a class="headerlink" href="#antimony_combinations.Combinations.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to a <cite>dict.items()</cite>.</p>
<p>Returns: a list of tuples of the form [(i, Combinations(topology=i), …]</p>
</dd></dl>

<dl class="method">
<dt id="antimony_combinations.Combinations.to_antimony">
<code class="sig-name descname">to_antimony</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#antimony_combinations.Combinations.to_antimony" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct the antimony string for the current topology
Returns:</p>
</dd></dl>

<dl class="method">
<dt id="antimony_combinations.Combinations.to_copasi">
<code class="sig-name descname">to_copasi</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; pycotools3.model.Model<a class="headerlink" href="#antimony_combinations.Combinations.to_copasi" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a copasi file from the sbml generated from tellurium</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">tasks.Model</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="antimony_combinations.Combinations.topology">
<em class="property">property </em><code class="sig-name descname">topology</code><a class="headerlink" href="#antimony_combinations.Combinations.topology" title="Permalink to this definition">¶</a></dt>
<dd><p>The ID of the current model, i.e. which topology 
you are currently pointing at.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>Number</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">topology</code></dt>
<dd><p>The ID of the current model, i.e. which topology 
you are currently pointing at.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>Number</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="antimony_combinations.Combinations.topology_dir">
<em class="property">property </em><code class="sig-name descname">topology_dir</code><a class="headerlink" href="#antimony_combinations.Combinations.topology_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>A full path to a directory for files pertaining 
to the current topology. Currently only used for 
generating copasi files.</p>
<p>Returns:</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="hypothesis_extension.html" class="btn btn-neutral float-right" title="HypothesisExtension" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to AntimonyCombinations’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Ciaran Welsh

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>